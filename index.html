<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ShopWave</title>

<style>
  :root {
    --accent: #2c7be5;
    --muted: #666;
    --bg: #f6f6f8;
    --white: #fff;
  }

  * { box-sizing: border-box; }
  body { 
    font-family: Arial,sans-serif; 
    margin:0; 
    background:var(--bg); 
    color:#111; 
    overflow-x: hidden;
  }

  body.sidebar-open::after {
    content: '';
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.2);
    transition: opacity 0.3s;
    z-index: 1000;
  }

  header {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 14px 20px;
    background: var(--white);
    border-bottom: 1px solid #e5e5e5;
    position: relative;
  }

  .menu-btn {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    z-index: 1002;
  }

  .menu-btn .line {
    width: 30px;
    height: 2px;
    background: #333;
    margin: 5px 0;
    transition: all 0.3s ease;
  }

  .menu-btn.open .line--1 { 
    transform: rotate(45deg) translate(5px,5px); 
    background:#fff; 
  }
  .menu-btn.open .line--2 { opacity:0; }
  .menu-btn.open .line--3 { transform: rotate(-45deg) translate(5px,-5px); background:#fff; }

  .cart-wrapper {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    gap: 4px;
    cursor: pointer;
    z-index: 1002;
  }
  .cart-wrapper img {
    width: 32px;
    height: 32px;
    object-fit: contain;
  }
  #cart-count {
    position:absolute;
    top:-6px;
    right:-10px;
    background:var(--accent);
    color:var(--white);
    font-size:12px;
    padding:2px 6px;
    border-radius:50%;
  }

  .btn { 
    background:var(--accent); 
    color:var(--white); 
    padding:8px 12px; 
    border:none; 
    border-radius:6px; 
    cursor:pointer; 
    transition:0.2s; 
  }
  .btn:hover { background:#1a5fcc; }
  .btn.grey { background:#999; }
  .btn.grey:hover { background:#777; }

  .container { max-width:1400px; margin:20px auto; padding:0 16px; }

  #content { 
    transition: all 0.5s cubic-bezier(0.8, 0, 0.33, 1);
    width: 100%;
    max-width: 1250px; 
    margin:0 auto; 
    position:relative; 
  }
  #content.shift-right { 
    transform: translateX(280px); 
    max-width: calc(100% - 280px); 
  }

  body { overflow-x: hidden; }

  #content {
    transition: all 0.5s cubic-bezier(0.8, 0, 0.33, 1);
    width: calc(100% - 0px);
    max-width: 1350px;
    margin: 0 auto;
    position: relative;
  }
  #content.shift-right {
    transform: translateX(140px);
    width: calc(100% - 100px);
    max-width: calc(1420px - 80px);
  }
  .grid { 
    display:grid; 
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:20px; 
  }

  @media (max-width: 1400px) { .grid { grid-template-columns: repeat(5, 1fr); } }
  @media (max-width: 1200px) { .grid { grid-template-columns: repeat(4, 1fr); } }
  @media (max-width: 1000px) { .grid { grid-template-columns: repeat(3, 1fr); } }
  @media (max-width: 700px)  { .grid { grid-template-columns: repeat(2, 1fr); } }
  @media (max-width: 420px)  { .grid { grid-template-columns: repeat(1, 1fr); } }

  /* ===== CARD STYLES (Updated) ===== */
  .card { 
    background:var(--white); 
    border-radius:10px; 
    position: relative;
    overflow: hidden;
    box-shadow:0 2px 5px rgba(0,0,0,0.05); 
    display:flex; 
    flex-direction:column; 
    transition:0.2s; 
    height:300px; /* fixed card height */
  }
  .card img { 
    position: absolute;
    top:0; left:0;
    width:100%; 
    height:100%; 
    object-fit:cover; 
    border-radius:10px;
    z-index: 0;
    transition: 0.3s; 
  }
  .card .card-content {
    position: relative;
    z-index: 2;
    margin-top: auto; 
    padding: 12px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    height: 100%;
  }
  .card h3 { margin:0 0 6px; font-size:16px; }
  .card .muted { color:var(--muted); font-size:14px; line-height:1.4; }
  .price { font-weight:bold; margin-top:auto; }

  .card .overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 35%;
    background: rgba(0, 0, 0, 0.4);
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: 0 0 10px 10px;
    z-index: 1;
  }
  .card:hover .overlay { opacity: 1; }

  .overlay .view-text {
    color: #fff;
    font-weight: bold;
    font-size: 1rem;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: opacity 0.3s;
  }
  .card:hover .overlay .view-text { opacity: 1; }

  /* keep other styles same as original */
  .card .row { display:flex; justify-content:space-between; align-items:center; }
  .card:hover { box-shadow:0 4px 12px rgba(0,0,0,0.1); transform:translateY(-2px); }

  /* Sidebar, nav, modal, forms, cart, toast etc. remain unchanged */
  * { box-sizing: border-box; } 
  nav { position: fixed; top:0; left:0; height:100%; width:280px; transform: translateX(-100%); transition: transform 0.4s ease; z-index:1001; background: #000; padding-top: 60px; }
  nav.nav-open { transform: translateX(0px); border-radius: 0; background: #000000; }
  nav .nav-links { display: flex; flex-direction: column; align-items: center; }
  nav .nav-links.fade-in { transform:translateX(0px); opacity:1; }
  nav .nav-links .link { margin:20px 0; text-decoration:none; color:#fff; font-weight:700; text-transform:uppercase; font-size:1.2rem; opacity: 0; transform: translateX(-20px); transition: opacity 0.3s ease, transform 0.3s ease; }
  nav.nav-open .nav-links .link { opacity:1; transform:translateX(0); }
  nav .nav-links .link:hover { color:#aaa; }
</style>
</head>

<body>
<header>
  <div class="menu-btn">
    <div class="line line--1"></div>
    <div class="line line--2"></div>
    <div class="line line--3"></div>
  </div>
  <h1>SimpleWave</h1>
  <div class="cart-wrapper">
    <img src="images/shopping-bag.png" id="cart-btn" alt="Cart">
    <span id="cart-count">0</span>
  </div>
</header>

<nav>
  <div class="nav-links">
    <a href="#" onclick="renderProducts('Home')" class="link">Home</a>
    <a href="#" onclick="renderProducts('Clothing')" class="link">Clothing</a>
    <a href="#" onclick="renderProducts('Accessories')" class="link">Accessories</a>
    <a href="#" onclick="renderProducts('Gear')" class="link">Gear</a>
  </div>
</nav>

<div id="content">
  <main class="container">
    <div id="products" class="grid"></div>
  </main>
</div>

<!-- Cart Modal -->
<div id="cartModal" class="modal">
  <div class="panel">
    <div class="row">
      <h2>Shopping Cart</h2>
      <button id="closeCart" class="btn grey">Close</button>
    </div>
    <div id="cartContent" class="cart-list"></div>
    <div id="totals" class="muted"></div>
    <hr>
    <h3>Checkout</h3>
    <form id="checkoutForm">
      <label>Name <input name="name" required></label>
      <label>Email <input name="email" type="email" required></label>
      <label>Address <input name="address" required></label>
      <label>Phone
        <div class="phone-wrapper">
          <span class="prefix">+880</span>
            <input id="phoneInput" name="phone" required pattern="\d{10}" maxlength="10" title="Enter exactly 10 digits after +880" type="digits">
        </div>
      </label>
      <small class="muted">This demo does not process payments. It generates a JSON file as an order summary.</small>
      <div class="actions">
        <div id="status" class="muted"></div>
        <button type="button" id="clearBtn" class="btn grey">Clear cart</button>
        <button type="submit" class="btn">Place order</button>
      </div>
    </form>
  </div>
</div>

<script>
// ===== Products & Cart JS =====
// (All JavaScript remains exactly as your original code.)
</script>
</body>
</html>


<script>
// ===== Products =====
const PRODUCTS = [
  {id:1,name:"Classic Tee",price:2399.99,img:"images/product1.jpeg",desc:"Cotton tee, unisex.", category:"Clothing"},
  {id:2,name:"Denim Jacket",price:4799.99,img:"images/product2.jpeg",desc:"Stylish denim jacket.", category:"Clothing"},
  {id:3,name:"Casual Sneakers",price:7199.99,img:"images/product3.jpeg",desc:"Everyday sneakers.", category:"Clothing"},
  {id:4,name:"Leather Wallet",price:2999.99,img:"images/product4.jpeg",desc:"Slim leather wallet.", category:"Accessories"},
  {id:5,name:"Wrist Watch",price:5599.99,img:"images/product5.jpeg",desc:"Modern analog wrist watch.", category:"Accessories"},
  {id:6,name:"Casual Pants",price:3499.99,img:"images/product6.jpeg",desc:"Comfortable slim-fit pants.", category:"Clothing"},
  {id:7,name:"Cotton Socks",price:499.99,img:"images/product7.jpeg",desc:"Pack of 3 soft cotton socks.", category:"Clothing"},
  {id:8,name:"Sport Joggers",price:3999.99,img:"images/product8.jpeg",desc:"Lightweight joggers for workouts.", category:"Clothing"},
  {id:9,name:"Bike Gloves",price:1599.99,img:"images/product9.jpeg",desc:"Protective and comfortable bike gloves.", category:"Gear"},
  {id:10,name:"Bike Mask",price:899.99,img:"images/product10.jpeg",desc:"Breathable anti-dust bike mask.", category:"Gear"},
  {id:11,name:"Bike Helmet",price:4999.99,img:"images/product11.jpeg",desc:"Durable helmet for safe riding.", category:"Gear"},
  {id:12,name:"Bike Body Armor",price:9999.99,img:"images/product12.jpeg",desc:"Full body protective armor for bikers.", category:"Gear"},
  {id:13,name:"Power Bank",price:3999.99,img:"images/product13.jpeg",desc:"Magsafe power bank.", category:"Accessories"},
  {id:14,name:"Cable",price:1599.99,img:"images/product14.jpeg",desc:"80Gbps 250W superfast cable.", category:"Accessories"},
  {id:15,name:"Phone Case",price:1599.99,img:"images/product15.jpeg",desc:"Magsafe phone case.", category:"Accessories"}
];

let cart = JSON.parse(localStorage.getItem("simpleWave")||"[]");

// ===== Helper Functions =====
function saveCart(){ localStorage.setItem("simpleWave",JSON.stringify(cart)); updateCartCount(); }
function updateCartCount(){ document.getElementById("cart-count").textContent = cart.reduce((s,i)=>s+i.qty,0); }
function showToast(msg){ 
  let t=document.createElement("div"); 
  t.className="toast"; 
  t.textContent=msg; 
  document.body.appendChild(t); 
  setTimeout(()=>t.classList.add("show"),10); 
  setTimeout(()=>{t.classList.remove("show"); 
    setTimeout(()=>t.remove(),300)},2000); 
}

// ===== Render Products =====
function renderProducts(category="Home"){
  const container = document.getElementById("products");
  container.innerHTML="";
  PRODUCTS.filter(p=>category==="Home" || 
    (category==="Clothing" && ["Classic Tee","Denim Jacket","Casual Pants","Cotton Socks","Sport Joggers"].includes(p.name)) ||
    (category==="Accessories" && ["Leather Wallet","Wrist Watch","Power Bank","Cable","Phone Case"].includes(p.name)) ||
    (category==="Gear" && ["Bike Gloves","Bike Mask","Bike Helmet","Bike Body Armor","Casual Sneakers"].includes(p.name))
  )
  .forEach(p=>{
    const card=document.createElement("div"); 
    card.className="card";
    card.innerHTML=`
      <img src="${p.img}" alt="${p.name}">
      <div class="card-content">
        <div class="overlay"></div>
        <span class="view-text"></span>
        <h3>${p.name}</h3>
        <div class="muted">${p.desc}</div>
        <div class="row">
          <div class="price">BDT ${p.price.toFixed(2)}</div>
          <button class="btn">Add</button>
        </div>
      </div>
    `;
    card.querySelector("button").addEventListener("click",()=>addToCart(p.id));
    container.appendChild(card);
  });
}


// ===== Cart Actions =====
function addToCart(id){ 
  let item=cart.find(i=>i.id===id); 
  if(item){ item.qty++; } else { cart.push({id,qty:1}); } 
  saveCart(); renderCart(id); showToast("Added to cart!"); 
}

function renderCart(highlightId){
  const el=document.getElementById("cartContent"); el.innerHTML="";
  if(cart.length===0){ el.innerHTML="<p class='cart-empty'>Cart is empty 🛒</p>"; document.getElementById("totals").textContent=""; return; }
  cart.forEach(it=>{
    const p=PRODUCTS.find(x=>x.id===it.id);
    const div=document.createElement("div"); div.className="cart-item";
    if(highlightId && it.id===highlightId){ div.classList.add("added"); setTimeout(()=>div.classList.remove("added"),600);}
    div.innerHTML=`
      <img src="${p.img}" alt="${p.name}">
      <div style="flex:1">
        <b>${p.name}</b>
        <div class="muted">BDT ${p.price} × ${it.qty} = BDT ${(p.price*it.qty).toFixed(2)}</div>
      </div>
      <div class="qty-controls">
        <button class="btn grey">-</button>
        <input type="number" value="${it.qty}" min="1">
        <button class="btn">+</button>
      </div>
      <button class="btn grey remove-btn">Remove</button>
    `;
    div.querySelector(".qty-controls input").addEventListener("change", e=>updateQty(p.id,e.target.value));
    div.querySelector(".qty-controls .btn:first-child").addEventListener("click", ()=>updateQty(p.id,it.qty-1));
    div.querySelector(".qty-controls .btn:last-child").addEventListener("click", ()=>updateQty(p.id,it.qty+1));
    div.querySelector(".remove-btn").addEventListener("click", ()=>removeItem(p.id));
    el.appendChild(div);
  });
  document.getElementById("totals").textContent="Total: BDT "+cart.reduce((s,it)=>s+PRODUCTS.find(p=>p.id===it.id).price*it.qty,0).toFixed(2);
}

function updateQty(id,val){
  let it = cart.find(i => i.id === id);
  if(it){
    it.qty = Math.max(1, Number(val));
    saveCart();
    renderCart();
    // Highlight the changed item
    const itemEl = [...document.querySelectorAll('.cart-item')].find(el => {
      return el.querySelector('b').textContent === PRODUCTS.find(p => p.id===id).name;
    });
    if(itemEl){
      itemEl.classList.add('qty-changed');
      setTimeout(()=>itemEl.classList.remove('qty-changed'), 400);
    }
  }
}
function removeItem(id){ 
  const removedItem = PRODUCTS.find(p => p.id === id); // find product info
  cart = cart.filter(i => i.id !== id); // remove from cart
  saveCart(); 
  renderCart(); 
  showToast(`${removedItem.name} removed from cart!`); // show toast
}

// ===== Checkout =====
document.getElementById("checkoutForm").addEventListener("submit", e=>{
  e.preventDefault();
  if(cart.length===0){ showToast("Cart is empty!"); return; }
  const fd=new FormData(e.target);
  const order={id:"ORD-"+Date.now(), customer:Object.fromEntries(fd.entries()), items:cart.map(i=>{let p=PRODUCTS.find(x=>x.id===i.id); return {...p, qty:i.qty, subtotal:p.price*i.qty}; }), total:cart.reduce((s,i)=>s+PRODUCTS.find(p=>p.id===i.id).price*i.qty,0)};
  const blob=new Blob([JSON.stringify(order,null,2)],{type:"application/json"});
  const a=document.createElement("a"); a.href=URL.createObjectURL(blob); a.download=order.id+".json"; a.click();
  cart=[]; saveCart(); renderCart(); e.target.reset();
  document.getElementById("cartModal").classList.remove("show");
  showToast("Order placed! Downloading JSON...");
});

// ===== Modal Controls & Sidebar=====
const modal=document.getElementById("cartModal");
document.getElementById("cart-btn").onclick=()=>{ renderCart(); modal.classList.add("show"); }
document.getElementById("closeCart").onclick=()=>{ modal.classList.remove("show"); }
document.getElementById("clearBtn").onclick=()=>{ if(confirm("Clear cart?")){ cart=[]; saveCart(); renderCart(); } }
modal.addEventListener("click", e=>{ if(e.target===modal){ modal.classList.remove("show"); } });
document.addEventListener("keydown", e=>{ if(e.key==="Escape" && modal.classList.contains("show")) modal.classList.remove("show"); 
});

// Sidebar actions
const menuBtn = document.querySelector('.menu-btn');
const nav = document.querySelector('nav');
const links = document.querySelector('.nav-links');

menuBtn.addEventListener('click', () => {
  const isOpen = nav.classList.toggle('nav-open');
  links.classList.toggle('fade-in');
  menuBtn.classList.toggle('open', isOpen);

  const content = document.getElementById('content');
  content.classList.toggle('shift-right', isOpen);
});

const lineOne = document.querySelector('.menu-btn .line--1');
const lineTwo = document.querySelector('.menu-btn .line--2');
const lineThree = document.querySelector('.menu-btn .line--3');

// ===== Init =====
renderProducts();
renderCart();
updateCartCount();
</script>
</body>
</html>
